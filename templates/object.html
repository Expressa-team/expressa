{{data}} {{d}}
<div class="field" ng-init="d = data; d.properties = d.properties || [];" ng-repeat="field in d.properties">
	<input type="text" ng-model="field.name" value="" />
	<select ng-model="field.type" ng-options="v for v in types"></select>
	<div style="padding-left: 15px">
		<ng-include ng-init="data = field;" src="'/edit/templates/'+field.type+'.html'"> </ng-include>
	</div>
</div>

<button ng-click="d.properties.push({type: 'text'})">Add another field</button>